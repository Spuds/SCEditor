/* SCEditor v1.5.4 | (C) 2017, Sam Clarke | sceditor.com/license */

!function(x,t,o){"use strict";var b=x.sceditor,k=b.plugins,w=b.escapeEntities,s=b.escapeUriScheme,e=b.ie,B=e&&e<11,l=b.command.get,n={bold:{txtExec:["[b]","[/b]"]},italic:{txtExec:["[i]","[/i]"]},underline:{txtExec:["[u]","[/u]"]},strike:{txtExec:["[s]","[/s]"]},subscript:{txtExec:["[sub]","[/sub]"]},superscript:{txtExec:["[sup]","[/sup]"]},left:{txtExec:["[left]","[/left]"]},center:{txtExec:["[center]","[/center]"]},right:{txtExec:["[right]","[/right]"]},justify:{txtExec:["[justify]","[/justify]"]},font:{txtExec:function(t){var e=this;l("font")._dropDown(e,t,function(t){e.insertText("[font="+t+"]","[/font]")})}},size:{txtExec:function(t){var e=this;l("size")._dropDown(e,t,function(t){e.insertText("[size="+t+"]","[/size]")})}},color:{txtExec:function(t){var e=this;l("color")._dropDown(e,t,function(t){e.insertText("[color="+t+"]","[/color]")})}},bulletlist:{txtExec:function(t,e){var n="";x.each(e.split(/\r?\n/),function(){n+=(n?"\n":"")+"[li]"+this+"[/li]"}),this.insertText("[ul]\n"+n+"\n[/ul]")}},orderedlist:{txtExec:function(t,e){var n="";x.each(e.split(/\r?\n/),function(){n+=(n?"\n":"")+"[li]"+this+"[/li]"}),k.bbcode.bbcode.get(""),this.insertText("[ol]\n"+n+"\n[/ol]")}},table:{txtExec:["[table][tr][td]","[/td][/tr][/table]"]},horizontalrule:{txtExec:["[hr]"]},code:{txtExec:["[code]","[/code]"]},image:{txtExec:function(t){var i=this;l("image")._dropDown(i,t,function(t,e,n){var r="";e&&(r+=" width="+e),n&&(r+=" height="+n),i.insertText("[img"+r+"]"+t+"[/img]")})}},email:{txtExec:function(t,n){var r=this;l("email")._dropDown(r,t,function(t,e){r.insertText("[email="+t+"]"+(e||n||t)+"[/email]")})}},link:{txtExec:function(t,n){var r=this;l("link")._dropDown(r,t,function(t,e){r.insertText("[url="+t+"]"+(e||n||t)+"[/url]")})}},quote:{txtExec:["[quote]","[/quote]"]},youtube:{txtExec:function(t){var e=this;l("youtube")._dropDown(e,t,function(t){e.insertText("[youtube]"+t+"[/youtube]")})}},rtl:{txtExec:["[rtl]","[/rtl]"]},ltr:{txtExec:["[ltr]","[/ltr]"]}},u=function(t){return t?t.replace(/\\(.)/g,"$1").replace(/^(["'])(.*?)\1$/,"$2"):t},g=function(){var n=arguments;return n[0].replace(/\{(\d+)\}/g,function(t,e){return void 0!==n[e-0+1]?n[e-0+1]:"{"+e+"}"})},E="open",T="content",I="newline",C="close",c=function(t,e,n,r,i,l){var o=this;o.type=t,o.name=e,o.val=n,o.attrs=x.extend({},r),o.children=i||[],o.closing=l||null};c.prototype={clone:function(){var t=this;return new c(t.type,t.name,t.val,t.attrs,[],t.closing?t.closing.clone():null)},splitAt:function(t){var e,n=this.clone(),r=this.children.indexOf(t);return-1<r&&(e=this.children.length-r,n.children=this.children.splice(r,e)),n}};var S=function(t){if(!(this instanceof S))return new S(t);var e,o,l,i,h,m,p,s,f,d,b,g,a,y,v=this;e=function(){v.bbcodes=k.bbcode.bbcodes,v.opts=x.extend({},S.defaults,t)},v.tokenize=function(t){var e,n,r,i=[],l=[{type:C,regex:/^\[\/[^\[\]]+\]/},{type:E,regex:/^\[[^\[\]]+\]/},{type:I,regex:/^(\r\n|\r|\n)/},{type:T,regex:/^([^\[\r\n]+|\[)/}];l.reverse();t:for(;t.length;){for(r=l.length;r--;)if(n=l[r].type,(e=t.match(l[r].regex))&&e[0]){i.push(o(n,e[0])),t=t.substr(e[0].length);continue t}t.length&&i.push(o(T,t)),t=""}return i},o=function(t,e){var n,r,i;return t===E&&(n=e.match(/\[([^\]\s=]+)(?:([^\]]+))?\]/))&&(i=a(n[1]),n[2]&&(n[2]=x.trim(n[2]))&&(r=l(n[2]))),t===C&&(n=e.match(/\[\/([^\[\]]+)\]/))&&(i=a(n[1])),t===I&&(i="#newline"),i&&(t!==E&&t!==C||k.bbcode.bbcodes[i])||(t=T,i="#"),new c(t,i,e,r)},l=function(t){var e,n=/([^\s=]+)=(?:(?:(["'])((?:\\\2|[^\2])*?)\2)|((?:.(?!\s\S+=))*.))/g,r={};if("="===t.charAt(0)&&t.indexOf("=",1)<0)r.defaultattr=u(t.substr(1));else for("="===t.charAt(0)&&(t="defaultattr"+t);e=n.exec(t);)r[a(e[1])]=u(e[3])||e[4];return r},v.parse=function(t,e){var n=i(v.tokenize(t)),r=v.opts;return r.fixInvalidNesting&&m(n),h(n,null,e),r.removeEmptyTags&&s(n),n},b=function(t,e,n){for(var r=n.length;r--;)if(n[r].type===e&&n[r].name===t)return!0;return!1},p=function(t,e){var n=(t?v.bbcodes[t.name]:{}).allowedChildren;return!v.opts.fixInvalidChildren||!n||-1<x.inArray(e.name||"#",n)},i=function(t){for(var e,n,r,i,l,o,s=[],a=[],u=[],c=function(){return y(u)},f=function(t){c()?c().children.push(t):a.push(t)},d=function(t){return c()&&(n=v.bbcodes[c().name])&&n.closedBy&&-1<x.inArray(t,n.closedBy)};e=t.shift();)switch(o=t[0],p(c(),e)||e.type===C&&c()&&e.name===c().name||(e.name="#",e.type=T),e.type){case E:d(e.name)&&u.pop(),f(e),(n=v.bbcodes[e.name])&&!n.isSelfClosing&&(n.closedBy||b(e.name,C,t))?u.push(e):n&&n.isSelfClosing||(e.type=T);break;case C:if(c()&&e.name!==c().name&&d("/"+e.name)&&u.pop(),c()&&e.name===c().name)c().closing=e,u.pop();else if(b(e.name,E,u)){for(;r=u.pop();){if(r.name===e.name){r.closing=e;break}i=r.clone(),1<s.length&&i.children.push(y(s)),s.push(i)}for(o&&o.type===I&&(n=v.bbcodes[e.name])&&!1===n.isInline&&(f(o),t.shift()),f(y(s)),l=s.length;l--;)u.push(s[l]);s.length=0}else e.type=T,f(e);break;case I:c()&&o&&d((o.type===C?"/":"")+o.name)&&(o.type===C&&o.name===c().name||((n=v.bbcodes[c().name])&&n.breakAfter?u.pop():n&&!1===n.isInline&&v.opts.breakAfterBlock&&!1!==n.breakAfter&&u.pop())),f(e);break;default:f(e)}return a},h=function(t,e,n){var r,i,l,o,s,a,u,c,f=t.length;e&&(o=v.bbcodes[e.name]);for(var d=f;d--;)if(r=t[d])if(r.type===I){if(i=0<d?t[d-1]:null,l=d<f-1?t[d+1]:null,c=!1,!n&&o&&!0!==o.isSelfClosing&&(i?a||l||(!1===o.isInline&&v.opts.breakEndBlock&&!1!==o.breakEnd&&(c=!0),o.breakEnd&&(c=!0),a=c):(!1===o.isInline&&v.opts.breakStartBlock&&!1!==o.breakStart&&(c=!0),o.breakStart&&(c=!0))),i&&i.type===E&&(s=v.bbcodes[i.name])&&(n?!1===s.isInline&&(c=!0):(!1===s.isInline&&v.opts.breakAfterBlock&&!1!==s.breakAfter&&(c=!0),s.breakAfter&&(c=!0))),!n&&!u&&l&&l.type===E&&(s=v.bbcodes[l.name])&&(!1===s.isInline&&v.opts.breakBeforeBlock&&!1!==s.breakBefore&&(c=!0),s.breakBefore&&(c=!0),u=c)){t.splice(d,1);continue}c&&t.splice(d,1),u=!1}else r.type===E&&h(r.children,r,n)},m=function(t,e,n,r){var i,l,o,s,a,u,c=function(t){var e=v.bbcodes[t.name];return!e||!1!==e.isInline};for(e=e||[],r=r||t,l=0;l<t.length;l++)if((i=t[l])&&i.type===E){if(n&&!c(i)){if(u=(o=y(e)).splitAt(i),a=1<e.length?e[e.length-2].children:r,p(i,o)){var f=o.clone();f.children=i.children,i.children=[f]}if(-1<(s=x.inArray(o,a))){u.children.splice(0,1),a.splice(s+1,0,i,u);var d=u.children[0];return void(d&&d.type===I&&(c(i)||(u.children.splice(0,1),a.splice(s+2,0,d))))}}e.push(i),m(i.children,e,n||c(i),r),e.pop(i)}},s=function(t){for(var e,n,r=function(t){for(var e=t.length;e--;){var n=t[e].type;if(n===E||n===C)return!1;if(n===T&&/\S|\u00A0/.test(t[e].val))return!1}return!0},i=t.length;i--;)(e=t[i])&&e.type===E&&(n=v.bbcodes[e.name],s(e.children),r(e.children)&&n&&!n.isSelfClosing&&!n.allowsEmpty&&t.splice.apply(t,x.merge([i,1],e.children)))},v.toHTML=function(t,e){return f(v.parse(t,e),!0)},f=function(t,e){var n,r,i,l,o,s,a,u,c=[];for(a=function(t){return!1!==(!t||(void 0!==t.isHtmlInline?t.isHtmlInline:t.isInline))};0<t.length;)if(n=t.shift()){if(n.type===E)u=n.children[n.children.length-1]||{},r=v.bbcodes[n.name],o=e&&a(r),i=f(n.children,!1),l=r&&r.html?(a(r)||!a(v.bbcodes[u.name])||r.isPreFormatted||r.skipLastLineBreak||B||(i+="<br />"),x.isFunction(r.html)?r.html.call(v,n,n.attrs,i):(n.attrs[0]=i,k.bbcode.formatBBCodeString(r.html,n.attrs))):n.val+i+(n.closing?n.closing.val:"");else{if(n.type===I){if(!e){c.push("<br />");continue}s||c.push("<div>"),B||c.push("<br />"),t.length||c.push("<br />"),c.push("</div>\n"),s=!1;continue}o=e,l=w(n.val,!0)}o&&!s?(c.push("<div>"),s=!0):!o&&s&&(c.push("</div>\n"),s=!1),c.push(l)}return s&&c.push("</div>\n"),c.join("")},v.toBBCode=function(t,e){return d(v.parse(t,e))},d=function(t){for(var e,n,r,i,l,o,s,a,u,c,f=[];0<t.length;)if(e=t.shift())if(i=!(!(r=v.bbcodes[e.name])||!1!==r.isInline),l=r&&r.isSelfClosing,s=i&&v.opts.breakBeforeBlock&&!1!==r.breakBefore||r&&r.breakBefore,a=i&&!l&&v.opts.breakStartBlock&&!1!==r.breakStart||r&&r.breakStart,u=i&&v.opts.breakEndBlock&&!1!==r.breakEnd||r&&r.breakEnd,c=i&&v.opts.breakAfterBlock&&!1!==r.breakAfter||r&&r.breakAfter,o=(r?r.quoteType:null)||v.opts.quoteType||S.QuoteType.auto,r||e.type!==E)if(e.type===E){if(s&&f.push("\n"),f.push("["+e.name),e.attrs)for(n in e.attrs.defaultattr&&(f.push("=",g(e.attrs.defaultattr,o,"defaultattr")),delete e.attrs.defaultattr),e.attrs)e.attrs.hasOwnProperty(n)&&f.push(" ",n,"=",g(e.attrs[n],o,n));f.push("]"),a&&f.push("\n"),e.children&&f.push(d(e.children)),l||r.excludeClosing||(u&&f.push("\n"),f.push("[/"+e.name+"]")),c&&f.push("\n"),e.closing&&l&&f.push(e.closing.val)}else f.push(e.val);else f.push(e.val),e.children&&f.push(d(e.children)),e.closing&&f.push(e.closing.val);return f.join("")},g=function(t,e,n){var r=S.QuoteType,i=/\s|=/.test(t);return x.isFunction(e)?e(t,n):e===r.never||e===r.auto&&!i?t:'"'+t.replace("\\","\\\\").replace('"','\\"')+'"'},y=function(t){return t.length?t[t.length-1]:null},a=function(t){return t.toLowerCase()},e()};S.QuoteType={always:1,never:2,auto:3},S.defaults={breakBeforeBlock:!1,breakStartBlock:!1,breakEndBlock:!1,breakAfterBlock:!0,removeEmptyTags:!0,fixInvalidNesting:!0,fixInvalidChildren:!0,quoteType:S.QuoteType.auto},x.sceditorBBCodePlugin=k.bbcode=function(){var t,f,d,r,h=this;h.bbcodes=k.bbcode.bbcodes,h.stripQuotes=u;var m={},s={},p={ul:["li","ol","ul"],ol:["li","ol","ul"],table:["tr"],tr:["td","th"],code:["br","p","div"]};h.init=function(){h.opts=this.opts,t(),this.commands=x.extend(!0,{},n,this.commands),this.toBBCode=h.signalToSource,this.fromBBCode=h.signalToWysiwyg},t=function(){x.each(h.bbcodes,function(n){var r,t=h.bbcodes[n].tags,e=h.bbcodes[n].styles;t&&x.each(t,function(t,e){r=!1===h.bbcodes[n].isInline,m[t]=m[t]||{},m[t][r]=m[t][r]||{},m[t][r][n]=e}),e&&x.each(e,function(t,e){r=!1===h.bbcodes[n].isInline,s[r]=s[r]||{},s[r][t]=s[r][t]||{},s[r][t][n]=e})})},f=function(n,r,t){var i,l,o=b.dom.getStyle;return s[t=!!t]&&x.each(s[t],function(t,e){(i=o(n[0],t))&&o(n.parent()[0],t)!==i&&x.each(e,function(t,e){(!e||-1<x.inArray(i.toString(),e))&&(l=h.bbcodes[t].format,r=x.isFunction(l)?l.call(h,n,r):g(l,r))})}),r},d=function(n,r,t){var i,l,e=n[0],o=e.nodeName.toLowerCase();t=!!t,m[o]&&m[o][t]&&x.each(m[o][t],function(t,e){e&&(i=!1,x.each(e,function(t,e){if(n.attr(t)&&!(e&&x.inArray(n.attr(t),e)<0))return!(i=!0)}),!i)||(l=h.bbcodes[t].format,r=x.isFunction(l)?l.call(h,n,r):g(l,r))});var s=b.dom.isInline;if(t&&(!s(e,!0)||"br"===o)){for(var a,u,c=e.previousSibling;c&&1===c.nodeType&&!x(c).is("br")&&s(c,!0)&&!c.firstChild;)c=c.previousSibling;for(;a=(u=e.parentNode).lastChild===e,(e=u)&&a&&s(u,!0););(!a||"li"===o||"br"===o&&B)&&(r+="\n"),"br"!==o&&c&&!x(c).is("br")&&s(c,!0)&&(r="\n"+r)}return r},h.signalToSource=function(t,e){var n,r,i=new S(h.opts.parserOptions);return e||(e="string"==typeof t?n=x("<div />").css("visibility","hidden").appendTo(o.body).html(t):x(t)),e&&e.jquery?(b.dom.removeWhiteSpace(e[0]),x(".sceditor-ignore",e).remove(),r=h.elementToBbcode(e),n&&n.remove(),r=i.toBBCode(r,!0),h.opts.bbcodeTrim&&(r=x.trim(r)),r):""},h.elementToBbcode=function(t){var c=function(t,a){var u="";return b.dom.traverse(t,function(t){var e=x(t),n="",r=t.nodeType,i=t.nodeName.toLowerCase(),l=p[i],o=t.firstChild,s=!0;if("object"==typeof a&&(s=-1<x.inArray(i,a),e.is("img")&&e.data("sceditor-emoticon")&&(s=!0),s||(l=a)),3===r||1===r)if(1===r){if(e.hasClass("sceditor-nlf")&&(!o||!B&&1===t.childNodes.length&&/br/i.test(o.nodeName)))return;"iframe"!==i&&(n=c(t,l)),s?("code"!==i&&(n=f(e,n),n=d(e,n),n=f(e,n,!0)),u+=d(e,n,!0)):u+=n}else u+=t.nodeValue},!1,!0),u};return c(t[0])},h.signalToWysiwyg=function(t,e){var n=new S(h.opts.parserOptions).toHTML(h.opts.bbcodeTrim?x.trim(t):t);return e?r(n):n},r=function(t){var e,r,n,i=x("<div />").hide().appendTo(o.body),l=i[0];return n=function(t,e){if(!b.dom.hasStyling(t)){if(B||1!==t.childNodes.length||!x(t.firstChild).is("br"))for(;r=t.firstChild;)l.insertBefore(r,t);if(e){var n=l.lastChild;t!==n&&x(n).is("div")&&t.nextSibling===n&&l.insertBefore(o.createElement("br"),t)}l.removeChild(t)}},l.innerHTML=t.replace(/<\/div>\n/g,"</div>"),(e=l.firstChild)&&x(e).is("div")&&n(e,!0),(e=l.lastChild)&&x(e).is("div")&&n(e),l=l.innerHTML,i.remove(),l}},k.bbcode.formatBBCodeString=function(t,r){return t.replace(/\{([^}]+)\}/g,function(t,e){var n=!0;return"!"===e.charAt(0)&&(n=!1,e=e.substring(1)),"0"===e&&(n=!1),void 0===r[e]?t:n?w(r[e],!0):r[e]})};var r=function(t){return t=parseInt(t,10),isNaN(t)?"00":(t=Math.max(0,Math.min(t,255)).toString(16)).length<2?"0"+t:t},i=function(t){var e;return(e=(t=t||"#000").match(/rgb\((\d{1,3}),\s*?(\d{1,3}),\s*?(\d{1,3})\)/i))?"#"+r(e[1])+r(e[2]-0)+r(e[3]-0):(e=t.match(/#([0-f])([0-f])([0-f])\s*?$/i))?"#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]:t},a={b:{tags:{b:null,strong:null},styles:{"font-weight":["bold","bolder","401","700","800","900"]},format:"[b]{0}[/b]",html:"<strong>{0}</strong>"},i:{tags:{i:null,em:null},styles:{"font-style":["italic","oblique"]},format:"[i]{0}[/i]",html:"<em>{0}</em>"},u:{tags:{u:null},styles:{"text-decoration":["underline"]},format:"[u]{0}[/u]",html:"<u>{0}</u>"},s:{tags:{s:null,strike:null},styles:{"text-decoration":["line-through"]},format:"[s]{0}[/s]",html:"<s>{0}</s>"},sub:{tags:{sub:null},format:"[sub]{0}[/sub]",html:"<sub>{0}</sub>"},sup:{tags:{sup:null},format:"[sup]{0}[/sup]",html:"<sup>{0}</sup>"},font:{tags:{font:{face:null}},styles:{"font-family":null},quoteType:S.QuoteType.never,format:function(t,e){var n;return t.is("font")&&(n=t.attr("face"))||(n=t.css("font-family")),"[font="+u(n)+"]"+e+"[/font]"},html:'<font face="{defaultattr}">{0}</font>'},size:{tags:{font:{size:null}},styles:{"font-size":null},format:function(t,e){var n=t.attr("size"),r=2;return n||(n=t.css("fontSize")),-1<n.indexOf("px")?((n=n.replace("px","")-0)<12&&(r=1),15<n&&(r=3),17<n&&(r=4),23<n&&(r=5),31<n&&(r=6),47<n&&(r=7)):r=n,"[size="+r+"]"+e+"[/size]"},html:'<font size="{defaultattr}">{!0}</font>'},color:{tags:{font:{color:null}},styles:{color:null},quoteType:S.QuoteType.never,format:function(t,e){var n;return t.is("font")&&(n=t.attr("color"))||(n=t[0].style.color||t.css("color")),"[color="+i(n)+"]"+e+"[/color]"},html:function(t,e,n){return'<font color="'+w(i(e.defaultattr),!0)+'">'+n+"</font>"}},ul:{tags:{ul:null},breakStart:!0,isInline:!1,skipLastLineBreak:!0,format:"[ul]{0}[/ul]",html:"<ul>{0}</ul>"},list:{breakStart:!0,isInline:!1,skipLastLineBreak:!0,html:"<ul>{0}</ul>"},ol:{tags:{ol:null},breakStart:!0,isInline:!1,skipLastLineBreak:!0,format:"[ol]{0}[/ol]",html:"<ol>{0}</ol>"},li:{tags:{li:null},isInline:!1,closedBy:["/ul","/ol","/list","*","li"],format:"[li]{0}[/li]",html:"<li>{0}</li>"},"*":{isInline:!1,closedBy:["/ul","/ol","/list","*","li"],html:"<li>{0}</li>"},table:{tags:{table:null},isInline:!1,isHtmlInline:!0,skipLastLineBreak:!0,format:"[table]{0}[/table]",html:"<table>{0}</table>"},tr:{tags:{tr:null},isInline:!1,skipLastLineBreak:!0,format:"[tr]{0}[/tr]",html:"<tr>{0}</tr>"},th:{tags:{th:null},allowsEmpty:!0,isInline:!1,format:"[th]{0}[/th]",html:"<th>{0}</th>"},td:{tags:{td:null},allowsEmpty:!0,isInline:!1,format:"[td]{0}[/td]",html:"<td>{0}</td>"},emoticon:{allowsEmpty:!0,tags:{img:{src:null,"data-sceditor-emoticon":null}},format:function(t,e){return t.data("sceditor-emoticon")+e},html:"{0}"},hr:{tags:{hr:null},allowsEmpty:!0,isSelfClosing:!0,isInline:!1,format:"[hr]{0}",html:"<hr />"},img:{allowsEmpty:!0,tags:{img:{src:null}},allowedChildren:["#"],quoteType:S.QuoteType.never,format:function(t,e){var n,r,i="",l=t[0],o=function(t){return l.style?l.style[t]:null};return t.attr("data-sceditor-emoticon")?e:(n=t.attr("width")||o("width"),r=t.attr("height")||o("height"),(l.complete&&(n||r)||n&&r)&&(i="="+t.width()+"x"+t.height()),"[img"+i+"]"+t.attr("src")+"[/img]")},html:function(t,e,n){var r,i,l,o="";return r=e.width,i=e.height,e.defaultattr&&(r=(l=e.defaultattr.split(/x/i))[0],i=2===l.length?l[1]:l[0]),void 0!==r&&(o+=' width="'+w(r,!0)+'"'),void 0!==i&&(o+=' height="'+w(i,!0)+'"'),"<img"+o+' src="'+s(n)+'" />'}},url:{allowsEmpty:!0,tags:{a:{href:null}},quoteType:S.QuoteType.never,format:function(t,e){var n=t.attr("href");return"mailto:"===n.substr(0,7)?'[email="'+n.substr(7)+'"]'+e+"[/email]":"[url="+n+"]"+e+"[/url]"},html:function(t,e,n){return e.defaultattr=w(e.defaultattr,!0)||n,'<a href="'+s(e.defaultattr)+'">'+n+"</a>"}},email:{quoteType:S.QuoteType.never,html:function(t,e,n){return'<a href="mailto:'+(w(e.defaultattr,!0)||n)+'">'+n+"</a>"}},quote:{tags:{blockquote:null},isInline:!1,quoteType:S.QuoteType.never,format:function(t,e){var n="",r=x(t),i=r.children("cite").first();return(1===i.length||r.data("author"))&&(n=i.text()||r.data("author"),r.data("author",n),i.remove(),e=this.elementToBbcode(x(t)),n="="+n.replace(/(^\s+|\s+$)/g,""),r.prepend(i)),"[quote"+n+"]"+e+"[/quote]"},html:function(t,e,n){return e.defaultattr&&(n="<cite>"+w(e.defaultattr)+"</cite>"+n),"<blockquote>"+n+"</blockquote>"}},code:{tags:{code:null},isInline:!1,allowedChildren:["#","#newline"],format:"[code]{0}[/code]",html:"<code>{0}</code>"},left:{styles:{"text-align":["left","-webkit-left","-moz-left","-khtml-left"]},allowsEmpty:!0,isInline:!1,format:"[left]{0}[/left]",html:'<div align="left">{0}</div>'},center:{styles:{"text-align":["center","-webkit-center","-moz-center","-khtml-center"]},allowsEmpty:!0,isInline:!1,format:"[center]{0}[/center]",html:'<div align="center">{0}</div>'},right:{styles:{"text-align":["right","-webkit-right","-moz-right","-khtml-right"]},allowsEmpty:!0,isInline:!1,format:"[right]{0}[/right]",html:'<div align="right">{0}</div>'},justify:{styles:{"text-align":["justify","-webkit-justify","-moz-justify","-khtml-justify"]},allowsEmpty:!0,isInline:!1,format:"[justify]{0}[/justify]",html:'<div align="justify">{0}</div>'},youtube:{allowsEmpty:!0,tags:{iframe:{"data-youtube-id":null}},format:function(t,e){return(t=t.attr("data-youtube-id"))?"[youtube]"+t+"[/youtube]":e},html:'<iframe width="560" height="315" frameborder="0" src="https://www.youtube.com/embed/{0}?wmode=opaque" data-youtube-id="{0}" allowfullscreen></iframe>'},rtl:{styles:{direction:["rtl"]},isInline:!1,format:"[rtl]{0}[/rtl]",html:'<div style="direction: rtl">{0}</div>'},ltr:{styles:{direction:["ltr"]},isInline:!1,format:"[ltr]{0}[/ltr]",html:'<div style="direction: ltr">{0}</div>'},ignore:{}};k.bbcode.bbcode={get:function(t){return a[t]||null},set:function(t,e){return!(!t||!e)&&((e=x.extend(a[t]||{},e)).remove=function(){delete a[t]},a[t]=e,this)},rename:function(t,e){return t in a&&(a[e]=a[t],delete a[t],this)},remove:function(t){return t in a&&delete a[t],this}},x.fn.sceditorBBCodePlugin=function(t){return t=t||{},x.isPlainObject(t)&&(t.plugins=(t.plugins||"")+"bbcode"),this.sceditor(t)},k.bbcode.normaliseColour=i,k.bbcode.formatString=g,k.bbcode.stripQuotes=u,k.bbcode.bbcodes=a,b.BBCodeParser=S}(jQuery,window,document);